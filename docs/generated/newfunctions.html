<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>New functions &mdash; eppy 0.4.6.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.4.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="eppy 0.4.6.1 documentation" href="index.html" />
    <link rel="next" title="Eppy API" href="eppy_api.html" />
    <link rel="prev" title="Reading outputs from E+" href="Outputs_Tutorial.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="eppy_api.html" title="Eppy API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Outputs_Tutorial.html" title="Reading outputs from E+"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">eppy 0.4.6.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="new-functions">
<h1>New functions<a class="headerlink" href="#new-functions" title="Permalink to this headline">¶</a></h1>
<p>These are recently written functions that have not made it into the main
documentation</p>
<div class="section" id="python-lesson-errors-and-exceptions">
<h2>Python Lesson: Errors and Exceptions<a class="headerlink" href="#python-lesson-errors-and-exceptions" title="Permalink to this headline">¶</a></h2>
<p>In[1]:
.. code:: python</p>
<blockquote>
<div><p># you would normaly install eppy by doing
# python setup.py install
# or
# pip install eppy
# or
# easy_install eppy</p>
<p># if you have not done so, uncomment the following three lines
import sys
# pathnameto_eppy = &#8216;c:/eppy&#8217;
pathnameto_eppy = &#8216;../&#8217;
sys.path.append(pathnameto_eppy)</p>
</div></blockquote>
<p>When things go wrong in your eppy script, you get &#8220;Errors and
Exceptions&#8221;.</p>
<p>To know more about how this works in python and eppy, take a look at
<a class="reference external" href="http://docs.python.org/2/tutorial/errors.html">Python: Errors and
Exceptions</a></p>
</div>
<div class="section" id="setting-idd-name">
<h2>Setting IDD name<a class="headerlink" href="#setting-idd-name" title="Permalink to this headline">¶</a></h2>
<p>When you work with Energyplus you are working with <strong>idf</strong> files (files
that have the extension *.idf). There is another file that is very
important, called the <strong>idd</strong> file. This is the file that defines all
the objects in Energyplus. Esch version of Energyplus has a different
<strong>idd</strong> file.</p>
<p>So eppy needs to know which <strong>idd</strong> file to use. Only one <strong>idd</strong> file
can be used in a script or program. This means that you cannot change
the <strong>idd</strong> file once you have selected it. Of course you have to first
select an <strong>idd</strong> file before eppy can work.</p>
<p>If you use eppy and break the above rules, eppy will raise an exception.
So let us use eppy incorrectly and make eppy raise the exception, just
see how that happens.</p>
<p>First let us try to open an <strong>idf</strong> file without setting an <strong>idd</strong>
file.
In[2]:
.. code:: python</p>
<blockquote>
<div>from eppy import modeleditor
from eppy.modeleditor import IDF
fname1 = &#8221;../eppy/resources/idffiles/V_7_2/smallfile.idf&#8221;</div></blockquote>
<p>Now let us open file fname1 without setting the <strong>idd</strong> file
In[3]:
.. code:: python</p>
<blockquote>
<div><dl class="docutils">
<dt>try:</dt>
<dd>idf1 = IDF(fname1)</dd>
<dt>except Exception, e:</dt>
<dd>raise e</dd>
</dl>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
IDDNotSetError                            Traceback (most recent call last)

&lt;ipython-input-3-44ad2b53d42c&gt; in &lt;module&gt;()
      2     idf1 = IDF(fname1)
      3 except Exception, e:
----&gt; 4     raise e
      5


IDDNotSetError: IDD file needed to read the idf file. Set it using IDF.setiddname(iddfile)
</pre></div>
</div>
<p>OK. It does not let you do that and it raises an exception</p>
<p>So let us set the <strong>idd</strong> file and then open the idf file
In[4]:
.. code:: python</p>
<blockquote>
<div>iddfile = &#8221;../eppy/resources/iddfiles/Energy+V7_2_0.idd&#8221;
IDF.setiddname(iddfile)
idf1 = IDF(fname1)</div></blockquote>
<p>That worked without raising an exception</p>
<p>Now let us try to change the <strong>idd</strong> file. Eppy should not let you do
this and should raise an exception.
In[5]:
.. code:: python</p>
<blockquote>
<div><dl class="docutils">
<dt>try:</dt>
<dd>IDF.setiddname(&#8220;anotheridd.idd&#8221;)</dd>
<dt>except Exception, e:</dt>
<dd>raise e</dd>
</dl>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
IDDAlreadySetError                        Traceback (most recent call last)

&lt;ipython-input-5-52df819ac489&gt; in &lt;module&gt;()
      2     IDF.setiddname(&quot;anotheridd.idd&quot;)
      3 except Exception, e:
----&gt; 4     raise e
      5


IDDAlreadySetError: IDD file is set to: ../eppy/resources/iddfiles/Energy+V7_2_0.idd
</pre></div>
</div>
<p>Excellent!! It raised the exception we were expecting.</p>
</div>
<div class="section" id="check-range-for-fields">
<h2>Check range for fields<a class="headerlink" href="#check-range-for-fields" title="Permalink to this headline">¶</a></h2>
<p>The fields of idf objects often have a range of legal values. The
following functions will let you discover what that range is and test if
your value lies within that range</p>
<p>demonstrate two new functions:</p>
<ul class="simple">
<li>EpBunch.getrange(fieldname) # will return the ranges for that field</li>
<li>EpBunch.checkrange(fieldname) # will throw an exception if the value
is outside the range</li>
</ul>
<p>In[6]:
.. code:: python</p>
<blockquote>
<div>from eppy import modeleditor
from eppy.modeleditor import IDF
iddfile = &#8221;../eppy/resources/iddfiles/Energy+V7_2_0.idd&#8221;
fname1 = &#8221;../eppy/resources/idffiles/V_7_2/smallfile.idf&#8221;</div></blockquote>
<p>In[7]:
.. code:: python</p>
<blockquote>
<div># IDF.setiddname(iddfile)# idd ws set further up in this page
idf1 = IDF(fname1)</div></blockquote>
<p>In[8]:
.. code:: python</p>
<blockquote>
<div>building = idf1.idfobjects[&#8216;building&#8217;.upper()][0]
print building</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>BUILDING,
    Empire State Building,    !- Name
    30.0,                     !- North Axis
    City,                     !- Terrain
    0.04,                     !- Loads Convergence Tolerance Value
    0.4,                      !- Temperature Convergence Tolerance Value
    FullExterior,             !- Solar Distribution
    25,                       !- Maximum Number of Warmup Days
    6;                        !- Minimum Number of Warmup Days
</pre></div>
</div>
<p>In[9]:
.. code:: python</p>
<blockquote>
<div>print building.getrange(&#8220;Loads_Convergence_Tolerance_Value&#8221;)</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;maximum&lt;&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;minimum&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;real&#39;</span><span class="p">,</span> <span class="s">&#39;maximum&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s">&#39;minimum&gt;&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
</pre></div>
</div>
<p>In[10]:
.. code:: python</p>
<blockquote>
<div>print building.checkrange(&#8220;Loads_Convergence_Tolerance_Value&#8221;)</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">0.04</span>
</pre></div>
</div>
<p>Let us set these values outside the range and see what happens
In[11]:
.. code:: python</p>
<blockquote>
<div><p>building.Loads_Convergence_Tolerance_Value = 0.6
from eppy.bunch_subclass import RangeError
try:</p>
<blockquote>
<div>print building.checkrange(&#8220;Loads_Convergence_Tolerance_Value&#8221;)</div></blockquote>
<dl class="docutils">
<dt>except RangeError, e:</dt>
<dd>raise e</dd>
</dl>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
RangeError                                Traceback (most recent call last)

&lt;ipython-input-11-a824cb1ec673&gt; in &lt;module&gt;()
      4     print building.checkrange(&quot;Loads_Convergence_Tolerance_Value&quot;)
      5 except RangeError, e:
----&gt; 6     raise e
      7


RangeError: Value 0.6 is not less or equal to the &#39;maximum&#39; of 0.5
</pre></div>
</div>
<p>So the Range Check works</p>
</div>
<div class="section" id="looping-through-all-the-fields-in-an-idf-object">
<h2>Looping through all the fields in an idf object<a class="headerlink" href="#looping-through-all-the-fields-in-an-idf-object" title="Permalink to this headline">¶</a></h2>
<p>We have seen how to check the range of field in the idf object. What if
you want to do a <em>range check</em> on all the fields in an idf object ? To
do this we will need a list of all the fields in the idf object. We can
do this easily by the following line
In[12]:
.. code:: python</p>
<blockquote>
<div>print building.fieldnames</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;Name&#39;</span><span class="p">,</span> <span class="s">&#39;North_Axis&#39;</span><span class="p">,</span> <span class="s">&#39;Terrain&#39;</span><span class="p">,</span> <span class="s">&#39;Loads_Convergence_Tolerance_Value&#39;</span><span class="p">,</span> <span class="s">&#39;Temperature_Convergence_Tolerance_Value&#39;</span><span class="p">,</span> <span class="s">&#39;Solar_Distribution&#39;</span><span class="p">,</span> <span class="s">&#39;Maximum_Number_of_Warmup_Days&#39;</span><span class="p">,</span> <span class="s">&#39;Minimum_Number_of_Warmup_Days&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>So let us use this
In[13]:
.. code:: python</p>
<blockquote>
<div><dl class="docutils">
<dt>for fieldname in building.fieldnames:</dt>
<dd>print &#8220;%s = %s&#8221; % (fieldname, building[fieldname])</dd>
</dl>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>key = BUILDING
Name = Empire State Building
North_Axis = 30.0
Terrain = City
Loads_Convergence_Tolerance_Value = 0.6
Temperature_Convergence_Tolerance_Value = 0.4
Solar_Distribution = FullExterior
Maximum_Number_of_Warmup_Days = 25
Minimum_Number_of_Warmup_Days = 6
</pre></div>
</div>
<p>Now let us test if the values are in the legal range. We know that
&#8220;Loads_Convergence_Tolerance_Value&#8221; is out of range
In[14]:
.. code:: python</p>
<blockquote>
<div><p>from eppy.bunch_subclass import RangeError
for fieldname in building.fieldnames:</p>
<blockquote>
<div><dl class="docutils">
<dt>try:</dt>
<dd>building.checkrange(fieldname)
print &#8220;%s = %s #-in range&#8221; % (fieldname, building[fieldname],)</dd>
<dt>except RangeError as e:</dt>
<dd>print &#8220;%s = %s #-<strong>**OUT OF RANGE**</strong>&#8221; % (fieldname, building[fieldname],)</dd>
</dl>
</div></blockquote>
</div></blockquote>
<pre class="literal-block">
key = BUILDING #-in range
Name = Empire State Building #-in range
North_Axis = 30.0 #-in range
Terrain = City #-in range
Loads_Convergence_Tolerance_Value = 0.6 #-<strong>**OUT OF RANGE**</strong>
Temperature_Convergence_Tolerance_Value = 0.4 #-in range
Solar_Distribution = FullExterior #-in range
Maximum_Number_of_Warmup_Days = 25 #-in range
Minimum_Number_of_Warmup_Days = 6 #-in range
</pre>
<p>You see, we caught the out of range value</p>
</div>
<div class="section" id="blank-idf-file">
<h2>Blank idf file<a class="headerlink" href="#blank-idf-file" title="Permalink to this headline">¶</a></h2>
<p>Until now in all our examples, we have been reading an idf file from
disk:</p>
<ul class="simple">
<li>How do I create a blank new idf file</li>
<li>give it a file name</li>
<li>Save it to the disk</li>
</ul>
<p>Here are the steps to do that
In[15]:
.. code:: python</p>
<blockquote>
<div><p># some initial steps
from eppy.modeleditor import IDF
iddfile = &#8221;../eppy/resources/iddfiles/Energy+V7_2_0.idd&#8221;
# IDF.setiddname(iddfile) # Has already been set</p>
<p># - Let us first open a file from the disk
fname1 = &#8221;../eppy/resources/idffiles/V_7_2/smallfile.idf&#8221;
idf_fromfilename = IDF(fname1) # initialize the IDF object with the file name</p>
<p>idf_fromfilename.printidf()</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>VERSION,
    7.3;                      !- Version Identifier

SIMULATIONCONTROL,
    Yes,                      !- Do Zone Sizing Calculation
    Yes,                      !- Do System Sizing Calculation
    Yes,                      !- Do Plant Sizing Calculation
    No,                       !- Run Simulation for Sizing Periods
    Yes;                      !- Run Simulation for Weather File Run Periods

BUILDING,
    Empire State Building,    !- Name
    30.0,                     !- North Axis
    City,                     !- Terrain
    0.04,                     !- Loads Convergence Tolerance Value
    0.4,                      !- Temperature Convergence Tolerance Value
    FullExterior,             !- Solar Distribution
    25,                       !- Maximum Number of Warmup Days
    6;                        !- Minimum Number of Warmup Days

SITE:LOCATION,
    CHICAGO_IL_USA TMY2-94846,    !- Name
    41.78,                    !- Latitude
    -87.75,                   !- Longitude
    -6.0,                     !- Time Zone
    190.0;                    !- Elevation
</pre></div>
</div>
<p>In[16]:
.. code:: python</p>
<blockquote>
<div><p># - now let us open a file from the disk differently
fname1 = &#8221;../eppy/resources/idffiles/V_7_2/smallfile.idf&#8221;
fhandle = open(fname1, &#8216;r&#8217;) # open the file for reading and assign it a file handle
idf_fromfilehandle = IDF(fhandle) # initialize the IDF object with the file handle</p>
<p>idf_fromfilehandle.printidf()</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>VERSION,
    7.3;                      !- Version Identifier

SIMULATIONCONTROL,
    Yes,                      !- Do Zone Sizing Calculation
    Yes,                      !- Do System Sizing Calculation
    Yes,                      !- Do Plant Sizing Calculation
    No,                       !- Run Simulation for Sizing Periods
    Yes;                      !- Run Simulation for Weather File Run Periods

BUILDING,
    Empire State Building,    !- Name
    30.0,                     !- North Axis
    City,                     !- Terrain
    0.04,                     !- Loads Convergence Tolerance Value
    0.4,                      !- Temperature Convergence Tolerance Value
    FullExterior,             !- Solar Distribution
    25,                       !- Maximum Number of Warmup Days
    6;                        !- Minimum Number of Warmup Days

SITE:LOCATION,
    CHICAGO_IL_USA TMY2-94846,    !- Name
    41.78,                    !- Latitude
    -87.75,                   !- Longitude
    -6.0,                     !- Time Zone
    190.0;                    !- Elevation
</pre></div>
</div>
<p>In[17]:
.. code:: python</p>
<blockquote>
<div><p># So IDF object can be initialized with either a file name or a file handle</p>
<p># - How do I create a blank new idf file
idftxt = &#8220;&#8221; # empty string
from StringIO import StringIO
fhandle = StringIO(idftxt) # we can make a file handle of a string
idf_emptyfile = IDF(fhandle) # initialize the IDF object with the file handle</p>
<p>idf_emptyfile.printidf()</p>
</div></blockquote>
<p>It did not print anything. Why should it. It was empty.</p>
<p>What if we give it a string that was not blank
In[18]:
.. code:: python</p>
<blockquote>
<div><p># - The string does not have to be blank
idftxt = &#8220;VERSION, 7.3;&#8221; # Not an emplty string. has just the version number
fhandle = StringIO(idftxt) # we can make a file handle of a string
idf_notemptyfile = IDF(fhandle) # initialize the IDF object with the file handle</p>
<p>idf_notemptyfile.printidf()</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>VERSION,
    7.3;                      !- Version Identifier
</pre></div>
</div>
<p>Aha !</p>
<p>Now let us give it a file name
In[19]:
.. code:: python</p>
<blockquote>
<div># - give it a file name
idf_notemptyfile.idfname = &#8220;notemptyfile.idf&#8221;
# - Save it to the disk
idf_notemptyfile.save()</div></blockquote>
<p>Let us confirm that the file was saved to disk
In[20]:
.. code:: python</p>
<blockquote>
<div>txt = open(&#8220;notemptyfile.idf&#8221;, &#8216;r&#8217;).read()# read the file from the disk
print txt</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>VERSION,
    7.3;                      !- Version Identifier
</pre></div>
</div>
<p>Yup ! that file was saved. Let us delete it since we were just playing
In[21]:
.. code:: python</p>
<blockquote>
<div>import os
os.remove(&#8220;notemptyfile.idf&#8221;)</div></blockquote>
</div>
<div class="section" id="deleting-copying-adding-and-making-new-idfobjects">
<h2>Deleting, copying/adding and making new idfobjects<a class="headerlink" href="#deleting-copying-adding-and-making-new-idfobjects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="making-a-new-idf-object">
<h3>Making a new idf object<a class="headerlink" href="#making-a-new-idf-object" title="Permalink to this headline">¶</a></h3>
<p>Let us start with a blank idf file and make some new &#8220;MATERIAL&#8221; objects
in it
In[22]:
.. code:: python</p>
<blockquote>
<div># making a blank idf object
blankstr = &#8220;&#8221;
from StringIO import StringIO
idf = IDF(StringIO(blankstr))</div></blockquote>
<p>To make and add a new idfobject object, we use the function
IDF.newidfobject(). We want to make an object of type &#8220;MATERIAL&#8221;
In[23]:
.. code:: python</p>
<blockquote>
<div><dl class="docutils">
<dt>newobject = idf.newidfobject(&#8220;material&#8221;.upper()) # the key for the object type has to be in upper case</dt>
<dd># .upper() makes it upper case</dd>
</dl>
</div></blockquote>
<p>In[24]:
.. code:: python</p>
<blockquote>
<div>print newobject</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>MATERIAL,
    ,                         !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
</pre></div>
</div>
<p>Let us give this a name, say &#8220;Shiny new material object&#8221;
In[25]:
.. code:: python</p>
<blockquote>
<div>newobject.Name = &#8220;Shiny new material object&#8221;
print newobject</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
</pre></div>
</div>
<p>In[26]:
.. code:: python</p>
<blockquote>
<div>anothermaterial = idf.newidfobject(&#8220;material&#8221;.upper())
anothermaterial.Name = &#8220;Lousy material&#8221;
thirdmaterial = idf.newidfobject(&#8220;material&#8221;.upper())
thirdmaterial.Name = &#8220;third material&#8221;
print thirdmaterial</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>MATERIAL,
    third material,           !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
</pre></div>
</div>
<p>Let us look at all the &#8220;MATERIAL&#8221; objects
In[27]:
.. code:: python</p>
<blockquote>
<div>print idf.idfobjects[&#8220;MATERIAL&#8221;]</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>[
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
,
MATERIAL,
    Lousy material,           !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
,
MATERIAL,
    third material,           !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
]
</pre></div>
</div>
<p>As we can see there are three MATERIAL idfobjects. They are:</p>
<ol class="arabic simple">
<li>Shiny new material object</li>
<li>Lousy material</li>
<li>third material</li>
</ol>
</div>
<div class="section" id="deleting-an-idf-object">
<h3>Deleting an idf object<a class="headerlink" href="#deleting-an-idf-object" title="Permalink to this headline">¶</a></h3>
<p>Let us remove 2. Lousy material. It is the second material in the list.
So let us remove the second material
In[28]:
.. code:: python</p>
<blockquote>
<div>idf.popidfobject(&#8216;MATERIAL&#8217;, 1) # first material is &#8216;0&#8217;, second is &#8216;1&#8217;</div></blockquote>
<p>In[29]:
.. code:: python</p>
<blockquote>
<div>print idf.idfobjects[&#8216;MATERIAL&#8217;]</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>[
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
,
MATERIAL,
    third material,           !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
]
</pre></div>
</div>
<p>You can see that the second material is gone ! Now let us remove the
first material, but do it using a different function
In[30]:
.. code:: python</p>
<blockquote>
<div>firstmaterial = idf.idfobjects[&#8216;MATERIAL&#8217;][-1]</div></blockquote>
<p>In[31]:
.. code:: python</p>
<blockquote>
<div>idf.removeidfobject(firstmaterial)</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;MATERIAL&#39;</span><span class="p">,</span> <span class="s">&#39;third material&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">]</span>
</pre></div>
</div>
<p>In[32]:
.. code:: python</p>
<blockquote>
<div>print idf.idfobjects[&#8216;MATERIAL&#8217;]</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>[
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
]
</pre></div>
</div>
<p>So we have two ways of deleting an idf object:</p>
<ol class="arabic simple">
<li>popidfobject -&gt; give it the idf key: &#8220;MATERIAL&#8221;, and the index number</li>
<li>removeidfobject -&gt; give it the idf object to be deleted</li>
</ol>
</div>
<div class="section" id="copying-adding-an-idf-object">
<h3>Copying/Adding an idf object<a class="headerlink" href="#copying-adding-an-idf-object" title="Permalink to this headline">¶</a></h3>
<p>Having deleted two &#8220;MATERIAL&#8221; objects, we have only one left. Let us
make a copy of this object and add it to our idf file
In[33]:
.. code:: python</p>
<blockquote>
<div>onlymaterial = idf.idfobjects[&#8220;MATERIAL&#8221;][0]</div></blockquote>
<p>In[34]:
.. code:: python</p>
<blockquote>
<div>idf.copyidfobject(onlymaterial)</div></blockquote>
<p>In[35]:
.. code:: python</p>
<blockquote>
<div>print idf.idfobjects[&#8220;MATERIAL&#8221;]</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>[
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
,
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
]
</pre></div>
</div>
<p>So now we have a copy of the material. You can use this method to copy
idf objects from other idf files too.</p>
</div>
</div>
<div class="section" id="making-an-idf-object-with-named-arguments">
<h2>Making an idf object with named arguments<a class="headerlink" href="#making-an-idf-object-with-named-arguments" title="Permalink to this headline">¶</a></h2>
<p>What if we wanted to make an idf object with values for it&#8217;s fields? We
can do that too.</p>
</div>
<div class="section" id="renaming-an-idf-object">
<h2>Renaming an idf object<a class="headerlink" href="#renaming-an-idf-object" title="Permalink to this headline">¶</a></h2>
<p>In[36]:
.. code:: python</p>
<blockquote>
<div><dl class="docutils">
<dt>gypboard = idf.newidfobject(&#8216;MATERIAL&#8217;, Name=&#8221;G01a 19mm gypsum board&#8221;,</dt>
<dd>Roughness=&#8221;MediumSmooth&#8221;,
Thickness=0.019,
Conductivity=0.16,
Density=800,
Specific_Heat=1090)</dd>
</dl>
</div></blockquote>
<p>In[37]:
.. code:: python</p>
<blockquote>
<div>print gypboard</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>MATERIAL,
    G01a 19mm gypsum board,    !- Name
    MediumSmooth,             !- Roughness
    0.019,                    !- Thickness
    0.16,                     !- Conductivity
    800,                      !- Density
    1090,                     !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
</pre></div>
</div>
<p>newidfobject() also fills in the default values like &#8220;Thermal
Absorptance&#8221;, &#8220;Solar Absorptance&#8221;, etc.
In[38]:
.. code:: python</p>
<blockquote>
<div>print idf.idfobjects[&#8220;MATERIAL&#8221;]</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>[
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
,
MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
,
MATERIAL,
    G01a 19mm gypsum board,    !- Name
    MediumSmooth,             !- Roughness
    0.019,                    !- Thickness
    0.16,                     !- Conductivity
    800,                      !- Density
    1090,                     !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
]
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h2>Renaming an idf object<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>It is easy to rename an idf object. If we want to rename the gypboard
object that we created above, we simply say:</p>
<blockquote>
<div>gypboard.Name = &#8220;a new name&#8221;.</div></blockquote>
<p>But this could create a problem. What if this gypboard is part of a
&#8220;CONSTRUCTION&#8221; object. The construction object will refer to the
gypboard by name. If we change the name of the gypboard, we should
change it in the construction object.</p>
<p>But there may be many constructions objects using the gypboard. Now we
will have to change it in all those construction objects. Sounds
painfull.</p>
<p>Let us try this with an example:
In[39]:
.. code:: python</p>
<blockquote>
<div><dl class="docutils">
<dt>interiorwall = idf.newidfobject(&#8220;CONSTRUCTION&#8221;, Name=&#8221;Interior Wall&#8221;,</dt>
<dd>Outside_Layer=&#8221;G01a 19mm gypsum board&#8221;,
Layer_2=&#8221;Shiny new material object&#8221;,
Layer_3=&#8221;G01a 19mm gypsum board&#8221;)</dd>
</dl>
<p>print interiorwall</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>CONSTRUCTION,
    Interior Wall,            !- Name
    G01a 19mm gypsum board,    !- Outside Layer
    Shiny new material object,    !- Layer 2
    G01a 19mm gypsum board;    !- Layer 3
</pre></div>
</div>
<p>to rename gypboard and have that name change in all the places we call
modeleditor.rename(idf, key, oldname, newname)
In[40]:
.. code:: python</p>
<blockquote>
<div>modeleditor.rename(idf, &#8220;MATERIAL&#8221;, &#8220;G01a 19mm gypsum board&#8221;, &#8220;peanut butter&#8221;)</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>MATERIAL,
    peanut butter,            !- Name
    MediumSmooth,             !- Roughness
    0.019,                    !- Thickness
    0.16,                     !- Conductivity
    800,                      !- Density
    1090,                     !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance
</pre></div>
</div>
<p>In[41]:
.. code:: python</p>
<blockquote>
<div>print interiorwall</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>CONSTRUCTION,
    Interior Wall,            !- Name
    peanut butter,            !- Outside Layer
    Shiny new material object,    !- Layer 2
    peanut butter;            !- Layer 3
</pre></div>
</div>
<p>Now we have &#8220;peanut butter&#8221; everywhere. At least where we need it. Let
us look at the entir idf file, just to be sure
In[42]:
.. code:: python</p>
<blockquote>
<div>idf.printidf()</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance

MATERIAL,
    Shiny new material object,    !- Name
    ,                         !- Roughness
    ,                         !- Thickness
    ,                         !- Conductivity
    ,                         !- Density
    ,                         !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance

MATERIAL,
    peanut butter,            !- Name
    MediumSmooth,             !- Roughness
    0.019,                    !- Thickness
    0.16,                     !- Conductivity
    800,                      !- Density
    1090,                     !- Specific Heat
    0.9,                      !- Thermal Absorptance
    0.7,                      !- Solar Absorptance
    0.7;                      !- Visible Absorptance

CONSTRUCTION,
    Interior Wall,            !- Name
    peanut butter,            !- Outside Layer
    Shiny new material object,    !- Layer 2
    peanut butter;            !- Layer 3
</pre></div>
</div>
</div>
<div class="section" id="zone-area-and-volume">
<h2>Zone area and volume<a class="headerlink" href="#zone-area-and-volume" title="Permalink to this headline">¶</a></h2>
<p>The idf file has zones with surfaces and windows. It is easy to get the
attributes of the surfaces and windows as we have seen in the tutorial.
Let us review this once more:
In[43]:
.. code:: python</p>
<blockquote>
<div>from eppy import modeleditor
from eppy.modeleditor import IDF
iddfile = &#8221;../eppy/resources/iddfiles/Energy+V7_2_0.idd&#8221;
fname1 = &#8221;../eppy/resources/idffiles/V_7_2/box.idf&#8221;
# IDF.setiddname(iddfile)</div></blockquote>
<p>In[44]:
.. code:: python</p>
<blockquote>
<div>idf = IDF(fname1)</div></blockquote>
<p>In[45]:
.. code:: python</p>
<blockquote>
<div>surfaces = idf.idfobjects[&#8220;BuildingSurface:Detailed&#8221;.upper()]
surface = surfaces[0]
print &#8220;area = %s&#8221; % (surface.area, )
print &#8220;tilt = %s&#8221; % (surface.tilt, )
print &#8220;azimuth = %s&#8221; % (surface.azimuth, )</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="n">area</span> <span class="o">=</span> <span class="mf">30.0</span>
<span class="n">tilt</span> <span class="o">=</span> <span class="mf">180.0</span>
<span class="n">azimuth</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>Can we do the same for zones ?</p>
<p>Not yet .. not yet. Not in this version on eppy</p>
<p>But we can still get the area and volume of the zone
In[46]:
.. code:: python</p>
<blockquote>
<div>zones = idf.idfobjects[&#8220;ZONE&#8221;]
zone = zones[0]
area = modeleditor.zonearea(idf, zone.Name)
volume = modeleditor.zonevolume(idf, zone.Name)
print &#8220;zone area = %s&#8221; % (area, )
print &#8220;zone volume = %s&#8221; % (volume, )</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>zone area = 30.0
zone volume = 90.0
</pre></div>
</div>
<p>Not as slick, but still pretty easy</p>
<p>Some notes on the zone area calculation:</p>
<ul class="simple">
<li>area is calculated by summing up all the areas of the floor surfaces</li>
<li>if there are no floors, then the sum of ceilings and roof is taken as
zone area</li>
<li>if there are no floors, ceilings or roof, we are out of luck. The
function returns 0</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">New functions</a><ul>
<li><a class="reference internal" href="#python-lesson-errors-and-exceptions">Python Lesson: Errors and Exceptions</a></li>
<li><a class="reference internal" href="#setting-idd-name">Setting IDD name</a></li>
<li><a class="reference internal" href="#check-range-for-fields">Check range for fields</a></li>
<li><a class="reference internal" href="#looping-through-all-the-fields-in-an-idf-object">Looping through all the fields in an idf object</a></li>
<li><a class="reference internal" href="#blank-idf-file">Blank idf file</a></li>
<li><a class="reference internal" href="#deleting-copying-adding-and-making-new-idfobjects">Deleting, copying/adding and making new idfobjects</a><ul>
<li><a class="reference internal" href="#making-a-new-idf-object">Making a new idf object</a></li>
<li><a class="reference internal" href="#deleting-an-idf-object">Deleting an idf object</a></li>
<li><a class="reference internal" href="#copying-adding-an-idf-object">Copying/Adding an idf object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#making-an-idf-object-with-named-arguments">Making an idf object with named arguments</a></li>
<li><a class="reference internal" href="#renaming-an-idf-object">Renaming an idf object</a></li>
<li><a class="reference internal" href="#id1">Renaming an idf object</a></li>
<li><a class="reference internal" href="#zone-area-and-volume">Zone area and volume</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Outputs_Tutorial.html"
                        title="previous chapter">Reading outputs from E+</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="eppy_api.html"
                        title="next chapter">Eppy API</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/newfunctions.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="eppy_api.html" title="Eppy API"
             >next</a> |</li>
        <li class="right" >
          <a href="Outputs_Tutorial.html" title="Reading outputs from E+"
             >previous</a> |</li>
        <li><a href="index.html">eppy 0.4.6.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Santosh Philip.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>