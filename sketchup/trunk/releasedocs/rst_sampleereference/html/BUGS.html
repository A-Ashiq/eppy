<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>Docutils Bugs</title>
<meta name="author" content="David Goodger; open to all Docutils developers" />
<meta name="date" content="2005-12-29" />
<meta name="copyright" content="This document has been placed in the public domain." />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="docutils-bugs">
<h1 class="title"><a class="reference" href="http://docutils.sourceforge.net/">Docutils</a> Bugs</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>David Goodger; open to all Docutils developers</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first last reference" href="mailto:goodger&#64;python.org">goodger&#64;python.org</a></td></tr>
<tr><th class="docinfo-name">Date:</th>
<td>2005-12-29</td></tr>
<tr><th class="docinfo-name">Revision:</th>
<td>4233</td></tr>
<tr><th class="docinfo-name">Copyright:</th>
<td>This document has been placed in the public domain.</td></tr>
</tbody>
</table>
<p>Bugs in Docutils?!?  Yes, we do have a few.  Some are old-timers that
tend to stay in the shadows and don't bother anybody.  Once in a while
new bugs are born.  From time to time some bugs (new and old) crawl
out into the light and must be dealt with.  Icky.</p>
<p>This document describes how to report a bug, and lists known bugs.</p>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#how-to-report-a-bug" id="id3" name="id3">How To Report A Bug</a></li>
<li><a class="reference" href="#known-bugs" id="id4" name="id4">Known Bugs</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id3" id="how-to-report-a-bug" name="how-to-report-a-bug">How To Report A Bug</a></h1>
<p>If you think you've discovered a bug, please read through these
guidelines before reporting it.</p>
<p>First, make sure it's a new bug:</p>
<ul>
<li><p class="first">Please check the list of <a class="reference" href="#known-bugs">known bugs</a> below and the <a class="reference" href="http://sourceforge.net/tracker/?group_id=38414&amp;atid=422030">SourceForge
Bug Tracker</a> to see if it has already been reported.</p>
</li>
<li><p class="first">Are you using the very latest version of Docutils?  The bug may have
already been fixed.  Please get the latest version of Docutils from
the <a class="reference" href="docs/dev/repository.html">repository</a> or from the current <a class="reference" href="http://docutils.sourceforge.net/#download">snapshot</a> and check again.  Even
if your bug has not been fixed, others probably have, and you're
better off with the most up-to-date code.</p>
<p>If you don't have time to check the latest snapshot, please report
the bug anyway.  We'd rather tell you that it's already fixed than
miss reports of unfixed bugs.</p>
</li>
<li><p class="first">If Docutils does not behave the way you expect, look in the
<a class="reference" href="docs/">documentation</a> (don't forget the <a class="reference" href="FAQ.html">FAQ</a>!) and <a class="reference" href="http://docutils.sf.net/#mailing-lists">mailing list archives</a>
for evidence that it should behave the way you expect.</p>
</li>
</ul>
<p>If you're not sure, please ask on the <a class="reference" href="docs/user/mailing-lists.html#docutils-users">Docutils-users</a> mailing list
first.</p>
<p>If it's a new bug, the most important thing you can do is to write a
simple description and a recipe that reproduces the bug.  Try to
create a minimal document that demonstrates the bug.  The easier you
make it to understand and track down the bug, the more likely a fix
will be.</p>
<p>Now you're ready to write the bug report.  Please include:</p>
<ul class="simple">
<li>A clear description of the bug.  Describe how you expected Docutils
to behave, and contrast that with how it actually behaved.  While
the bug may seem obvious to you, it may not be so obvious to someone
else, so it's best to avoid a guessing game.</li>
<li>A complete description of the environment in which you reproduced
the bug:<ul>
<li>Your operating system &amp; version.</li>
<li>The version of Python (<tt class="docutils literal"><span class="pre">python</span> <span class="pre">-V</span></tt>).</li>
<li>The version of Docutils (use the &quot;-V&quot; option to most Docutils
front-end tools).</li>
<li>Any private modifications you made to Docutils.</li>
<li>Anything else that could possibly be relevant.  Err on the side
of too much information, rather than too little.</li>
</ul>
</li>
<li>A literal transcript of the <em>exact</em> command you ran, and the <em>exact</em>
output.  Use the &quot;--traceback&quot; option to get a complete picture.</li>
<li>The exact input and output files.  Better to attach complete files
to your bug report than to include just a summary or excerpt.</li>
<li>If you also want to include speculation as to the cause, and even a
patch to fix the bug, that would be great!</li>
</ul>
<p>The best place to send your bug report is to the <a class="reference" href="http://sourceforge.net/tracker/?group_id=38414&amp;atid=422030">SourceForge Bug
Tracker</a>.  That way, it won't be misplaced or forgotten.  In fact, an
open bug report on SourceForge is a constant irritant that begs to be
squashed.</p>
<p>Thank you!</p>
<p>(This section was inspired by the <a class="reference" href="http://subversion.tigris.org/">Subversion project's</a> <a class="reference" href="http://svn.collab.net/viewcvs/svn/trunk/BUGS?view=markup">BUGS</a>
file.)</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id4" id="known-bugs" name="known-bugs">Known Bugs</a></h1>
<p>Also see the <a class="reference" href="http://sourceforge.net/tracker/?group_id=38414&amp;atid=422030">SourceForge Bug Tracker</a>.</p>
<ul>
<li><p class="first">The &quot;stylesheet&quot; setting (a URL, to be used verbatim) should be
allowed to be combined with &quot;embed_stylesheet&quot;.  The stylesheet data
should be read in using urllib.  There was an assumption that a
stylesheet to be embedded should exist as a file on the local
system, and only the &quot;stylesheet_path&quot; setting should be used.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">utils.relative_path()</span></tt> sometimes returns absolute <span class="target" id="paths-on-windows">paths on
Windows</span> (like <tt class="docutils literal"><span class="pre">C:/test/foo.css</span></tt>) where it could have chosen a
relative path.</p>
<p>Furthermore, absolute pathnames are inserted verbatim, like
<tt class="docutils literal"><span class="pre">href=&quot;C:/test/foo.css&quot;</span></tt> instead of
<tt class="docutils literal"><span class="pre">href=&quot;file:///C:/test/foo.css&quot;</span></tt>.</p>
<p>For details, see <a class="reference" href="http://article.gmane.org/gmane.text.docutils.user/1569">this posting by Alan G. Isaac</a>.</p>
</li>
<li><p class="first"><span class="target" id="line-numbers">Line numbers</span> in system messages are inconsistent in the parser.</p>
<ul class="simple">
<li>In text inserted by the &quot;include&quot; directive, errors are often not
reported with the correct &quot;source&quot; or &quot;line&quot; numbers.  Perhaps all
Reporter calls need &quot;source&quot; and &quot;line&quot; keyword arguments.
Elements' .line assignments should be checked.  (Assign to .source
too?  Add a set_info method?  To what?)  There's a test in
test/test_parsers/test_rst/test_directives/test_include.py.</li>
<li>Some line numbers in elements are not being set properly
(explicitly), just implicitly/automatically.  See rev. 1.74 of
docutils/parsers/rst/states.py for an example of how to set.</li>
</ul>
</li>
<li><p id="none-source">Quite a few nodes are getting a &quot;None&quot; source attribute as well.  In
particular, see the bodies of definition lists.</p>
</li>
<li><p class="first">Footnote label &quot;5&quot; should be &quot;4&quot; when processing the following
input:</p>
<pre class="literal-block">
ref [#abc]_ [#]_ [1]_ [#4]_

.. [#abc] footnote
.. [#] two
.. [1] one
.. [#4] four
</pre>
<p>Output:</p>
<pre class="literal-block">
&lt;document source=&quot;&lt;stdin&gt;&quot;&gt;
    &lt;paragraph&gt;
        ref
        &lt;footnote_reference auto=&quot;1&quot; ids=&quot;id1&quot; refid=&quot;abc&quot;&gt;
            2

        &lt;footnote_reference auto=&quot;1&quot; ids=&quot;id2&quot; refid=&quot;id5&quot;&gt;
            3

        &lt;footnote_reference ids=&quot;id3&quot; refid=&quot;id6&quot;&gt;
            1

        &lt;footnote_reference auto=&quot;1&quot; ids=&quot;id4&quot; refid=&quot;id7&quot;&gt;
            5
    &lt;footnote auto=&quot;1&quot; backrefs=&quot;id1&quot; ids=&quot;abc&quot; names=&quot;abc&quot;&gt;
        &lt;label&gt;
            2
        &lt;paragraph&gt;
            footnote
    &lt;footnote auto=&quot;1&quot; backrefs=&quot;id2&quot; ids=&quot;id5&quot; names=&quot;3&quot;&gt;
        &lt;label&gt;
            3
        &lt;paragraph&gt;
            two
    &lt;footnote backrefs=&quot;id3&quot; ids=&quot;id6&quot; names=&quot;1&quot;&gt;
        &lt;label&gt;
            1
        &lt;paragraph&gt;
            one
    &lt;footnote auto=&quot;1&quot; backrefs=&quot;id4&quot; ids=&quot;id7&quot; names=&quot;4&quot;&gt;
        &lt;label&gt;
            5
        &lt;paragraph&gt;
            four
</pre>
</li>
<li><p class="first">IDs are based on names.  Explicit hyperlink targets have priority
over implicit targets.  But if an explicit target comes after an
implicit target with the same name, the ID of the first (implicit)
target remains based on the implicit name.  Since HTML fragment
identifiers based on the IDs, the first target keeps the name.  For
example:</p>
<pre class="literal-block">
.. contents::

Section
=======

.. _contents:

Subsection
----------

text with a reference to contents_ and section_

.. _section:

This paragraph is explicitly targeted with the name &quot;section&quot;.
</pre>
<p>When processed to HTML, the 2 internal hyperlinks (to &quot;contents&quot; &amp;
&quot;section&quot;) will work fine, but hyperlinks from outside the document
using <tt class="docutils literal"><span class="pre">href=&quot;...#contents&quot;</span></tt> and <tt class="docutils literal"><span class="pre">href=&quot;...#section&quot;</span></tt> won't work.
Such external links will connect to the implicit targets (table of
contents and &quot;Section&quot; title) instead of the explicit targets
(&quot;Subsection&quot; title and last paragraph).</p>
<p>Hyperlink targets with duplicate names should be assigned new IDs
unrelated to the target names (i.e., &quot;id&quot;-prefix serial IDs).</p>
</li>
<li><p class="first">The &quot;contents&quot; ID of the local table of contents in
<tt class="docutils literal"><span class="pre">test/functional/expected/standalone_rst_pseudoxml.txt</span></tt> is lost in
the HTML output at
<tt class="docutils literal"><span class="pre">test/functional/expected/standalone_rst_html4css1.html</span></tt>.</p>
</li>
<li><p class="first"><span class="target" id="blank-first-columns">Blank first columns</span> in simple tables with explicit row separators
silently swallow their input.  They should at least produce system
error messages.  But, with explicit row separators, the meaning is
unambiguous and ought to be supported:</p>
<pre class="literal-block">
==============  ==========
Table with row  separators
==============  ==========
                and blank
--------------  ----------
                entries
--------------  ----------
                in first
--------------  ----------
                columns.
==============  ==========
</pre>
<p>Added a commented-out test case to
test/test_parsers/test_rst/test_SimpleTableParser.py.</p>
</li>
<li><p class="first"><span class="target" id="footnote-references-with-hyperlink-targets">Footnote references with hyperlink targets</span> cause a possibly
invalid node tree and make the HTML writer crash:</p>
<pre class="literal-block">
$ rst2pseudoxml.py
[1]_

.. _1: URI
&lt;document source=&quot;&lt;stdin&gt;&quot;&gt;
    &lt;paragraph&gt;
        &lt;footnote_reference ids=&quot;id1&quot; refuri=&quot;URI&quot;&gt;
            1
    &lt;target ids=&quot;id2&quot; names=&quot;1&quot; refuri=&quot;URI&quot;&gt;
</pre>
</li>
<li><p class="first">Anonymous references have &quot;name&quot; attributes.  Should they?  Are they
used?  See <tt class="docutils literal"><span class="pre">test/test_parsers/test_rst/test_inline_markup.py</span></tt>.</p>
</li>
<li><p class="first">&lt;reference&gt; elements have a &quot;name&quot; attribute, not &quot;names&quot;.  The
attribute should be &quot;names&quot;; this is an inconsistency.</p>
</li>
</ul>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
End: -->
</div>
</div>
</body>
</html>
